FROM sayers3/vsftpd.2.3.4:latest

RUN echo "FLAG{3xpl01t_4_CV3_W1th_M3t4sploit_Is_easy_nah?}" > flag.txt

RUN sed -i 's/anonymous_enable=NO/anonymous_enable=YES/g' /etc/vsftpd.conf || \
    echo "anonymous_enable=YES" >> /etc/vsftpd.conf

RUN mkdir -p /var/ftp/pub && \
    chown ftp:ftp /var/ftp/pub && \
    chmod 755 /var/ftp/pub

EXPOSE 2111
